= Development
include::_attributes.adoc[]

[#devspaces]
== Introducing DevSpaces

[#gateway_update]
== Update the Gateway Service
Enter your <NAMESPACE> into the search input of the Software Catalog to find your Gateway component entity

image::catalog_3.png[]

From the Gateway Component Overview page, click on "OpenShift Dev Spaces (VS Code)"

image::gateway_devspaces.png[]

Click on "Log in with OpenShift"

image::login_4.png[]

Select the "GitHub" login option

image::login_5.png[]

Make sure to click on *Grant* next to the "Summit23DevLab" GitHub Org before approving DevSpaces access

image::auth_4.png[]

Grant DevSpaces access to your OpenShift account

image::auth_6.png[]

Open `/src/main/java/com/rhdevelopers/summit/workshop/SummitBackendResource.java`

Uncomment the following code block near the bottom of the file:

[.console-input]
[source,java,subs="+macros,+attributes"]
----
    @POST
    @Path("poi/add/point")
    public Response loadCustomPoi(PoiRecord record) {
        SUMMIT_POI_RECORDS.add(record);
        return Response.created(
            UriBuilder.fromPath("fake/poi/find/"+(SUMMIT_POI_RECORDS.size()-1)).build()
        ).entity("inserted custom data point").build();
    }
----

Commit your change and sync

Check the resulting pipelines and deployments for activity

Verify that your change has been published

[#validate_your_change]
== Validate your Changes

Connect to a Pod in the Gateway Deployment to test the new API endpoint:

[.console-input]
[source,bash,subs="+macros,+attributes"]
----
curl --location 'http://localhost:8080/fake/poi/add/point/' \
--header 'Content-Type: application/json' \
--data '{
"name":"Milano, Italy",
"description":"example city",
"coordinates":[45.464203,9.189982]
}'
----

Reload the map to look for your new Point.
